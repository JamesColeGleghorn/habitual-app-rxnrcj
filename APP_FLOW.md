
# App Flow - Habitual iOS App

## ğŸ“± Screen Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         App Launch                          â”‚
â”‚                      (_layout.tsx)                          â”‚
â”‚                                                             â”‚
â”‚  â€¢ Initialize notifications                                 â”‚
â”‚  â€¢ Request permissions                                      â”‚
â”‚  â€¢ Load default habits                                      â”‚
â”‚  â€¢ Setup AsyncStorage                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    iOS Native Tabs                          â”‚
â”‚                 (_layout.ios.tsx)                           â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚     Home     â”‚              â”‚   Progress   â”‚           â”‚
â”‚  â”‚   (house)    â”‚              â”‚  (chart.bar) â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                           â”‚
         â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Home Screen    â”‚        â”‚  Progress Screen â”‚
â”‚  (index.ios.tsx) â”‚        â”‚ (profile.ios.tsx)â”‚
â”‚                  â”‚        â”‚                  â”‚
â”‚  â€¢ Today's       â”‚        â”‚  â€¢ Overall stats â”‚
â”‚    Habits        â”‚        â”‚  â€¢ Completion    â”‚
â”‚  â€¢ Quick Access  â”‚        â”‚    rate chart    â”‚
â”‚  â€¢ Motivational  â”‚        â”‚  â€¢ Habit         â”‚
â”‚    Quote         â”‚        â”‚    breakdown     â”‚
â”‚  â€¢ Add Habit     â”‚        â”‚  â€¢ Motivation    â”‚
â”‚    Button        â”‚        â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Tap Quick Access Cards
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â”‚              â”‚              â”‚
    â–¼         â–¼              â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Wellnessâ”‚ â”‚Insightsâ”‚ â”‚  Code  â”‚ â”‚ Add Habit  â”‚
â”‚Dashboardâ”‚ â”‚ Screen â”‚ â”‚Completeâ”‚ â”‚   Modal    â”‚
â”‚        â”‚ â”‚        â”‚ â”‚  Tool  â”‚ â”‚            â”‚
â”‚â€¢ Steps â”‚ â”‚â€¢ Weeklyâ”‚ â”‚â€¢ Editorâ”‚ â”‚â€¢ Name      â”‚
â”‚â€¢ Water â”‚ â”‚  trendsâ”‚ â”‚â€¢ AI    â”‚ â”‚â€¢ Icon      â”‚
â”‚â€¢ Sleep â”‚ â”‚â€¢ Mood  â”‚ â”‚  assistâ”‚ â”‚â€¢ Color     â”‚
â”‚â€¢ Mood  â”‚ â”‚  vs    â”‚ â”‚â€¢ Multi â”‚ â”‚â€¢ Save      â”‚
â”‚â€¢ Focus â”‚ â”‚  sleep â”‚ â”‚  lang  â”‚ â”‚            â”‚
â”‚â€¢ Daily â”‚ â”‚â€¢ Chartsâ”‚ â”‚        â”‚ â”‚            â”‚
â”‚  Wins  â”‚ â”‚        â”‚ â”‚        â”‚ â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ User Journeys

### Journey 1: Track a Habit

```
1. Open App
   â†“
2. View Today's Habits on Home Screen
   â†“
3. Tap checkbox to complete habit
   â†“
4. See visual feedback (checkmark, animation)
   â†“
5. Streak counter updates
   â†“
6. Data saved to AsyncStorage
```

### Journey 2: Add New Habit

```
1. Open App
   â†“
2. Tap "+" button on Home Screen
   â†“
3. Modal opens
   â†“
4. Enter habit name
   â†“
5. Choose icon (default or custom photo)
   â†“
6. Select color
   â†“
7. Tap "Save"
   â†“
8. Modal closes
   â†“
9. New habit appears in list
```

### Journey 3: Track Wellness

```
1. Open App
   â†“
2. Tap "Wellness Dashboard" card
   â†“
3. Dashboard screen opens
   â†“
4. View current stats:
   - Steps (auto-tracked)
   - Water intake
   - Sleep hours
   - Mood
   - Focus time
   â†“
5. Tap "+" to add water
   â†“
6. Water count increases
   â†“
7. Progress ring updates
```

### Journey 4: View Progress

```
1. Open App
   â†“
2. Tap "Progress" tab
   â†“
3. View overall stats:
   - Completion rate chart
   - Total completed
   - Active streaks
   - Longest streak
   â†“
4. Scroll down
   â†“
5. View individual habit breakdowns
   â†“
6. See current streak, longest streak, completion rate
```

### Journey 5: Check Insights

```
1. Open App
   â†“
2. Tap "Weekly Insights" card
   â†“
3. Insights screen opens
   â†“
4. View weekly trends:
   - Habit completion patterns
   - Mood vs sleep correlation
   - Progress charts
   â†“
5. Identify patterns
   â†“
6. Adjust habits accordingly
```

## ğŸ”” Notification Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         App Initialization              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Request Notification Permissions     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
        â”‚             â”‚
        â–¼             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Granted â”‚   â”‚Denied  â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚            â”‚
        â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Schedule      â”‚  â”‚No            â”‚
â”‚Reminders:    â”‚  â”‚Notifications â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚â€¢ Morning     â”‚
â”‚â€¢ Water       â”‚
â”‚â€¢ Bedtime     â”‚
â”‚â€¢ Stretch     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User Receives Notifications           â”‚
â”‚                                          â”‚
â”‚  â€¢ "Time to drink water! ğŸ’§"            â”‚
â”‚  â€¢ "Don't forget your evening habit! â­" â”‚
â”‚  â€¢ "Bedtime reminder ğŸŒ™"                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’¾ Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            User Action                  â”‚
â”‚  (Complete habit, add water, etc.)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Update State (React)            â”‚
â”‚      (useHabits, useWellness hooks)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Save to AsyncStorage               â”‚
â”‚   (habitStorage, wellnessStorage)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Update UI                       â”‚
â”‚  (Re-render with new data)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Component Hierarchy

```
App (_layout.tsx)
â”‚
â”œâ”€â”€ SafeAreaProvider
â”‚   â”‚
â”‚   â””â”€â”€ Stack Navigator
â”‚       â”‚
â”‚       â”œâ”€â”€ (tabs) - Tab Navigator
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ _layout.ios.tsx - Native iOS Tabs
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ (home) - Home Stack
â”‚       â”‚   â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ index.ios.tsx - Home Screen
â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HabitCard (multiple)
â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ IconSymbol (multiple)
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ QuoteCard
â”‚       â”‚   â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.tsx - Wellness Dashboard
â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CircularProgress (multiple)
â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PomodoroTimer
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ IconSymbol (multiple)
â”‚       â”‚   â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ insights.tsx - Weekly Insights
â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProgressChart
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ IconSymbol (multiple)
â”‚       â”‚   â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ code-completion.tsx - Code Tool
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ CodeEditor
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ CompletionSuggestion
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ LanguageSelector
â”‚       â”‚   â”‚   â”‚       â””â”€â”€ ModelSelector
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â””â”€â”€ profile.ios.tsx - Progress Screen
â”‚       â”‚   â”‚       â”œâ”€â”€ ProgressChart
â”‚       â”‚   â”‚       â”œâ”€â”€ IconSymbol (multiple)
â”‚       â”‚   â”‚       â””â”€â”€ StatCards (multiple)
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ FloatingTabBar (Android/Web fallback)
â”‚       â”‚
â”‚       â”œâ”€â”€ modal - Add Habit Modal
â”‚       â”‚   â”œâ”€â”€ TextInput
â”‚       â”‚   â”œâ”€â”€ IconSymbol (multiple)
â”‚       â”‚   â””â”€â”€ ColorPicker
â”‚       â”‚
â”‚       â”œâ”€â”€ formsheet - Form Sheet Modal
â”‚       â”‚
â”‚       â””â”€â”€ transparent-modal - Transparent Modal
â”‚
â””â”€â”€ Notification Manager (background)
```

## ğŸ”„ State Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Custom Hooks                   â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  useHabits()                     â”‚  â”‚
â”‚  â”‚  â€¢ habits: Habit[]               â”‚  â”‚
â”‚  â”‚  â€¢ loading: boolean              â”‚  â”‚
â”‚  â”‚  â€¢ toggleHabitCompletion()       â”‚  â”‚
â”‚  â”‚  â€¢ addHabit()                    â”‚  â”‚
â”‚  â”‚  â€¢ deleteHabit()                 â”‚  â”‚
â”‚  â”‚  â€¢ updateHabit()                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  useWellness()                   â”‚  â”‚
â”‚  â”‚  â€¢ steps: number                 â”‚  â”‚
â”‚  â”‚  â€¢ water: number                 â”‚  â”‚
â”‚  â”‚  â€¢ sleep: SleepData              â”‚  â”‚
â”‚  â”‚  â€¢ mood: MoodData                â”‚  â”‚
â”‚  â”‚  â€¢ focusTime: number             â”‚  â”‚
â”‚  â”‚  â€¢ addWater()                    â”‚  â”‚
â”‚  â”‚  â€¢ logSleep()                    â”‚  â”‚
â”‚  â”‚  â€¢ setMood()                     â”‚  â”‚
â”‚  â”‚  â€¢ calculateStreak()             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  usePedometer()                  â”‚  â”‚
â”‚  â”‚  â€¢ steps: number                 â”‚  â”‚
â”‚  â”‚  â€¢ isAvailable: boolean          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  useCodeCompletion()             â”‚  â”‚
â”‚  â”‚  â€¢ suggestions: string[]         â”‚  â”‚
â”‚  â”‚  â€¢ loading: boolean              â”‚  â”‚
â”‚  â”‚  â€¢ getSuggestions()              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Data Models

### Habit
```typescript
{
  id: string;
  name: string;
  icon: string;
  color: string;
  customImage?: string;
  dates: {
    [date: string]: boolean;
  };
  createdAt: string;
}
```

### Wellness Data
```typescript
{
  steps: number;
  water: number;
  sleep: {
    bedtime: string;
    wakeTime: string;
    score: number;
  };
  mood: {
    emoji: string;
    note?: string;
  };
  focusTime: number;
  gratitude: string[];
  date: string;
}
```

## ğŸ¯ Key Features Flow

### Habit Streak Calculation
```
1. Get habit data
   â†“
2. Get all completion dates
   â†“
3. Sort dates in descending order
   â†“
4. Count consecutive days from today
   â†“
5. Return current streak
```

### Wellness Streak Calculation
```
1. Get all wellness data
   â†“
2. Check each day for completeness:
   - Steps > 0
   - Water > 0
   - Sleep logged
   - Mood logged
   â†“
3. Count consecutive complete days
   â†“
4. Return wellness streak
```

### Notification Scheduling
```
1. Check permission status
   â†“
2. If granted:
   - Schedule morning reminder (8 AM)
   - Schedule water reminders (every 2 hours)
   - Schedule bedtime reminder (10 PM)
   - Schedule stretch reminder (every 4 hours)
   â†“
3. Store notification IDs
   â†“
4. Allow user to customize times
```

## ğŸ” Permission Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         App First Launch                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Request Notifications Permission     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
        â”‚             â”‚
        â–¼             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Granted â”‚   â”‚Denied  â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Request Motion Permission            â”‚
â”‚    (for pedometer)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
        â”‚             â”‚
        â–¼             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Granted â”‚   â”‚Denied  â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Request Camera/Photos Permission     â”‚
â”‚    (when user adds custom icon)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
        â”‚             â”‚
        â–¼             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Granted â”‚   â”‚Denied  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Theme Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      iOS System Appearance              â”‚
â”‚      (Light or Dark)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      useThemeColors() Hook              â”‚
â”‚      Detects system theme               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
        â”‚             â”‚
        â–¼             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Light  â”‚   â”‚  Dark  â”‚
    â”‚ Colors â”‚   â”‚ Colors â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚            â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Apply Colors to Components         â”‚
â”‚      â€¢ Background                       â”‚
â”‚      â€¢ Text                             â”‚
â”‚      â€¢ Cards                            â”‚
â”‚      â€¢ Icons                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

This flow diagram shows how users navigate through the app and how data flows between components. Use this as a reference when developing or debugging features.
